<app-header/>

<main>
    <ul id="users">
        <!-- @for and @if and etc.. are only supported from angular17 and later -->
        <!-- @for(userObj of users;  track userObj.id)
        {
            <li>
                <app-user [user]="userObj" (select)="onSelectUser($event)"/>
            </li>
        } -->
        <!-- ngFor is a structural directive we can also build our own directives its a feature used before @for and other tags came along from angular17 onwards-->
        <li *ngFor="let userObj of users"> 
            <app-user [user]="userObj" [selected]="userObj.id===selectedUserID" (select)="onSelectUser($event)"/>
        </li>

    </ul>
    <!-- @if(selectedUser!==undefined){
        <app-tasks [name]="selectedUser.name"/>
    }
    @else {
        <p id="fallback">Select a user to see their tasks</p>
    } -->
    <app-tasks *ngIf="selectedUser; else fallback" [userId]="selectedUser!.id" [name]="selectedUser!.name"/>
    <ng-template #fallback>
        <p id="fallback">Select a user to see their tasks</p>
    </ng-template>
    
    
</main>